{% extends 'layouts/navbar_sidebar.html' %}

{% block title_page %}

    <title>Menu cancelaciones</title>

{% endblock %}

{% block main_content %}

    <h3>MENU CANCELACIONES</h3>

    
    <div class="mx-auto w-75 h-75 d-flex justify-content-between flex-column p-3 rounded mt-5" style="background-color: #FFF; box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);">

        <h4 class="fw-bolder">Estudiantes</h4>
        
        <div class="w-100 table-responsive" style="height: 90%;">
            <table class="table" id="tableStudents">
                <thead class="table-secondary">
                    <tr>
                        <th>Codigo</th>
                        <th>Nombre</th>
                        <th>Mas</th>
                    </tr>
                </thead>
                <tbody>
                    {% for student in students %}
                        <tr>
                            <td>{{student.code}}</td>
                            <td>{{student.name}}</td>
                            <td>
                                <form action="{%  url 'section' student.id %}" method="POST">
                                    {% csrf_token %}
                                    <button class="btn btn-success" id="selection">
                                        Ver materias
                                    </button>
                                    
                                </form>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        
      
    </div>

    <script>

        let tableStudents = $('#tableStudents').DataTable({
            "language": {
                "url": "//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json"
            }
        })

    </script>

    {% if studentUpdate %}

        <div class="alert alert-success alert-dismissible fade show position-absolute bottom-0 end-0 d-flex align-items-center gap-3" role="alert" id="success-alert">
            <i class='bx bxs-check-square' style="font-size: 28px;"></i>
            <strong>Materia Cancelada</strong>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>

    {% endif %}

{% endblock %}